{"ast":null,"code":"// Very small fake API backed by localStorage. Uses timeouts to simulate latency.\n\nfunction wait(ms = 300) {\n  return new Promise(res => setTimeout(res, ms));\n}\nfunction getData() {\n  const raw = localStorage.getItem('bw_data');\n  if (raw) return JSON.parse(raw);\n  const base = {\n    users: [],\n    transactions: [],\n    budgets: []\n  };\n  localStorage.setItem('bw_data', JSON.stringify(base));\n  return base;\n}\nfunction saveData(data) {\n  localStorage.setItem('bw_data', JSON.stringify(data));\n}\nfunction generateToken() {\n  return Math.random().toString(36).slice(2);\n}\nexport const fakeApi = {\n  register: async ({\n    username,\n    email,\n    password\n  }) => {\n    await wait(400);\n    const db = getData();\n    if (db.users.find(u => u.email === email)) {\n      return {\n        error: 'Email already in use'\n      };\n    }\n    const newUser = {\n      id: Date.now(),\n      username,\n      email,\n      password\n    };\n    db.users.push(newUser);\n    saveData(db);\n    return {\n      success: true\n    };\n  },\n  login: async ({\n    identifier,\n    password\n  }) => {\n    await wait(400);\n    const db = getData();\n    const user = db.users.find(u => (u.email === identifier || u.username === identifier) && u.password === password);\n    if (!user) return {\n      error: 'Invalid credentials'\n    };\n    const token = generateToken();\n    return {\n      token,\n      user: {\n        id: user.id,\n        username: user.username,\n        email: user.email\n      }\n    };\n  },\n  getSummary: async () => {\n    await wait(200);\n    const db = getData();\n    const income = db.transactions.filter(t => t.type === 'income').reduce((s, t) => s + t.amount, 0);\n    const expenses = db.transactions.filter(t => t.type === 'expense').reduce((s, t) => s + t.amount, 0);\n    const recent = db.transactions.slice(-5).reverse();\n    return {\n      income,\n      expenses,\n      recent\n    };\n  },\n  listTransactions: async () => {\n    await wait(200);\n    const db = getData();\n    return db.transactions;\n  },\n  addTransaction: async t => {\n    await wait(200);\n    const db = getData();\n    const txn = {\n      id: Date.now(),\n      ...t\n    };\n    db.transactions.push(txn);\n    saveData(db);\n    return txn;\n  },\n  updateTransaction: async (id, patch) => {\n    await wait(200);\n    const db = getData();\n    const idx = db.transactions.findIndex(x => x.id === id);\n    if (idx === -1) return {\n      error: 'Not found'\n    };\n    db.transactions[idx] = {\n      ...db.transactions[idx],\n      ...patch\n    };\n    saveData(db);\n    return db.transactions[idx];\n  },\n  deleteTransaction: async id => {\n    await wait(200);\n    const db = getData();\n    db.transactions = db.transactions.filter(x => x.id !== id);\n    saveData(db);\n    return {\n      success: true\n    };\n  },\n  // budgets\n  listBudgets: async () => {\n    await wait(200);\n    const db = getData();\n    return db.budgets;\n  },\n  addBudget: async b => {\n    await wait(200);\n    const db = getData();\n    const bud = {\n      id: Date.now(),\n      ...b,\n      spent: 0\n    };\n    db.budgets.push(bud);\n    saveData(db);\n    return bud;\n  },\n  updateBudget: async (id, patch) => {\n    await wait(200);\n    const db = getData();\n    const idx = db.budgets.findIndex(x => x.id === id);\n    if (idx === -1) return {\n      error: 'Not found'\n    };\n    db.budgets[idx] = {\n      ...db.budgets[idx],\n      ...patch\n    };\n    saveData(db);\n    return db.budgets[idx];\n  },\n  // profile\n  getProfile: async email => {\n    await wait(200);\n    const db = getData();\n    const user = db.users.find(u => u.email === email);\n    if (!user) return {\n      error: 'Not found'\n    };\n    return {\n      id: user.id,\n      username: user.username,\n      email: user.email\n    };\n  },\n  updateProfile: async (email, patch) => {\n    await wait(200);\n    const db = getData();\n    const idx = db.users.findIndex(u => u.email === email);\n    if (idx === -1) return {\n      error: 'Not found'\n    };\n    db.users[idx] = {\n      ...db.users[idx],\n      ...patch\n    };\n    saveData(db);\n    return {\n      id: db.users[idx].id,\n      username: db.users[idx].username,\n      email: db.users[idx].email\n    };\n  }\n};","map":{"version":3,"names":["wait","ms","Promise","res","setTimeout","getData","raw","localStorage","getItem","JSON","parse","base","users","transactions","budgets","setItem","stringify","saveData","data","generateToken","Math","random","toString","slice","fakeApi","register","username","email","password","db","find","u","error","newUser","id","Date","now","push","success","login","identifier","user","token","getSummary","income","filter","t","type","reduce","s","amount","expenses","recent","reverse","listTransactions","addTransaction","txn","updateTransaction","patch","idx","findIndex","x","deleteTransaction","listBudgets","addBudget","b","bud","spent","updateBudget","getProfile","updateProfile"],"sources":["C:/Users/dell/Music/Budgetwise AI Expense Tracker/src/api/fakeApi.js"],"sourcesContent":["// Very small fake API backed by localStorage. Uses timeouts to simulate latency.\r\n\r\nfunction wait(ms = 300){\r\n  return new Promise(res=>setTimeout(res, ms));\r\n}\r\n\r\nfunction getData(){\r\n  const raw = localStorage.getItem('bw_data');\r\n  if(raw) return JSON.parse(raw);\r\n  const base = { users: [], transactions: [], budgets: [] };\r\n  localStorage.setItem('bw_data', JSON.stringify(base));\r\n  return base;\r\n}\r\n\r\nfunction saveData(data){\r\n  localStorage.setItem('bw_data', JSON.stringify(data));\r\n}\r\n\r\nfunction generateToken(){\r\n  return Math.random().toString(36).slice(2);\r\n}\r\n\r\nexport const fakeApi = {\r\n  register: async ({ username, email, password }) => {\r\n    await wait(400);\r\n    const db = getData();\r\n    if(db.users.find(u=>u.email===email)){\r\n      return { error: 'Email already in use' };\r\n    }\r\n    const newUser = { id: Date.now(), username, email, password };\r\n    db.users.push(newUser);\r\n    saveData(db);\r\n    return { success: true };\r\n  },\r\n  login: async ({ identifier, password }) => {\r\n    await wait(400);\r\n    const db = getData();\r\n    const user = db.users.find(u => (u.email === identifier || u.username === identifier) && u.password === password);\r\n    if(!user) return { error: 'Invalid credentials' };\r\n    const token = generateToken();\r\n    return { token, user: { id:user.id, username:user.username, email:user.email } };\r\n  },\r\n  getSummary: async () => {\r\n    await wait(200);\r\n    const db = getData();\r\n    const income = db.transactions.filter(t=>t.type==='income').reduce((s,t)=>s+t.amount,0);\r\n    const expenses = db.transactions.filter(t=>t.type==='expense').reduce((s,t)=>s+t.amount,0);\r\n    const recent = db.transactions.slice(-5).reverse();\r\n    return { income, expenses, recent };\r\n  },\r\n  listTransactions: async ()=>{\r\n    await wait(200);\r\n    const db = getData();\r\n    return db.transactions;\r\n  },\r\n  addTransaction: async (t)=>{\r\n    await wait(200);\r\n    const db = getData();\r\n    const txn = { id: Date.now(), ...t };\r\n    db.transactions.push(txn);\r\n    saveData(db);\r\n    return txn;\r\n  },\r\n  updateTransaction: async (id, patch)=>{\r\n    await wait(200);\r\n    const db = getData();\r\n    const idx = db.transactions.findIndex(x=>x.id===id);\r\n    if(idx===-1) return { error:'Not found' };\r\n    db.transactions[idx] = { ...db.transactions[idx], ...patch };\r\n    saveData(db);\r\n    return db.transactions[idx];\r\n  },\r\n  deleteTransaction: async (id)=>{\r\n    await wait(200);\r\n    const db = getData();\r\n    db.transactions = db.transactions.filter(x=>x.id!==id);\r\n    saveData(db);\r\n    return { success:true };\r\n  },\r\n  // budgets\r\n  listBudgets: async ()=>{\r\n    await wait(200);\r\n    const db = getData();\r\n    return db.budgets;\r\n  },\r\n  addBudget: async (b)=>{\r\n    await wait(200);\r\n    const db = getData();\r\n    const bud = { id: Date.now(), ...b, spent:0 };\r\n    db.budgets.push(bud);\r\n    saveData(db);\r\n    return bud;\r\n  },\r\n  updateBudget: async (id, patch)=>{\r\n    await wait(200);\r\n    const db = getData();\r\n    const idx = db.budgets.findIndex(x=>x.id===id);\r\n    if(idx===-1) return { error:'Not found' };\r\n    db.budgets[idx] = { ...db.budgets[idx], ...patch };\r\n    saveData(db);\r\n    return db.budgets[idx];\r\n  },\r\n  // profile\r\n  getProfile: async (email)=>{\r\n    await wait(200);\r\n    const db = getData();\r\n    const user = db.users.find(u=>u.email===email);\r\n    if(!user) return { error:'Not found' };\r\n    return { id:user.id, username:user.username, email:user.email };\r\n  },\r\n  updateProfile: async (email, patch)=>{\r\n    await wait(200);\r\n    const db = getData();\r\n    const idx = db.users.findIndex(u=>u.email===email);\r\n    if(idx===-1) return { error:'Not found' };\r\n    db.users[idx] = { ...db.users[idx], ...patch };\r\n    saveData(db);\r\n    return { id: db.users[idx].id, username:db.users[idx].username, email:db.users[idx].email };\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}